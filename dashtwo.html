
<!DOCTYPE html>
<html>
<head>
  <title>My first Vue app</title>
  <script src="https://unpkg.com/vue"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
  <div id="app">
    {{ message }}
  </div>

  <script>
    var app = new Vue({
      el: '#app',
      data: {
        message: 'Hello Vue!'
      },
      created() {
        //this.updateData()
        //setTimeout(this.fetchData(), 0)
      },
      methods : {
         fetchData() {
          axios.get("http://localhost:5000/farm")
            .then(response => {this.message = response.data})
        },
        updateData: function(){           
          setInterval(function(){
              //this.message = ((Math.random() * 100).toFixed(2))+'%';
              axios.get("http://localhost:5000/farm")
                .then(response => {this.message = response.data})
              //console.log (this.message);
          }.bind(this), 250);
        }
      },

      mounted() {
        axios.get("http://localhost:5000/farm")
            .then(response => {this.message = response.data})
      }
    })
  </script>
</body>
</html>
